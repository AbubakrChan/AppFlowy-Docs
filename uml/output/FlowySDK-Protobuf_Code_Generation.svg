<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="599px" preserveAspectRatio="none" style="width:1357px;height:599px;background:#FFFFFF;" version="1.1" viewBox="0 0 1357 599" width="1357px" zoomAndPan="magnify"><defs><filter height="300%" id="fwwbcly1xwx1p" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="226" x="559" y="17.4023">Protobuf Code Generation</text><!--MD5=[e200373c1dd4ffdcbb04d7264f6f50b3]
cluster Step_1--><rect fill="#FFFFFF" filter="url(#fwwbcly1xwx1p)" height="559" style="stroke:#000000;stroke-width:1.5;" width="642" x="7" y="28.1992"/><path d="M64,28.1992 L64,37.6875 L54,47.6875 L7,47.6875 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="10" y="42.7344">Step_1</text><!--MD5=[7a53db9ccc194c46da066af3f6ad1ff0]
cluster Event--><polygon fill="#DDDDDD" filter="url(#fwwbcly1xwx1p)" points="489.5,81.1992,499.5,71.1992,620.5,71.1992,620.5,295.1992,610.5,305.1992,489.5,305.1992,489.5,81.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="610.5" x2="620.5" y1="81.1992" y2="71.1992"/><line style="stroke:#000000;stroke-width:1.5;" x1="489.5" x2="610.5" y1="81.1992" y2="81.1992"/><line style="stroke:#000000;stroke-width:1.5;" x1="610.5" x2="610.5" y1="81.1992" y2="305.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="39" x="531.5" y="97.7344">Event</text><!--MD5=[b44a8a9a23e117b660d0c393c238cc3d]
cluster Protobuf--><polygon fill="#DDDDDD" filter="url(#fwwbcly1xwx1p)" points="486,339.1992,496,329.1992,625,329.1992,625,553.1992,615,563.1992,486,563.1992,486,339.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="615" x2="625" y1="339.1992" y2="329.1992"/><line style="stroke:#000000;stroke-width:1.5;" x1="486" x2="615" y1="339.1992" y2="339.1992"/><line style="stroke:#000000;stroke-width:1.5;" x1="615" x2="615" y1="339.1992" y2="563.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="63" x="520" y="355.7344">Protobuf</text><!--MD5=[e5f6ed0088dfdc9de7e6d69bc801d2c1]
cluster Step_2--><rect fill="#FFFFFF" filter="url(#fwwbcly1xwx1p)" height="169" style="stroke:#000000;stroke-width:1.5;" width="231" x="673" y="223.1992"/><path d="M730,223.1992 L730,232.6875 L720,242.6875 L673,242.6875 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="676" y="237.7344">Step_2</text><!--MD5=[797b0f0b9fce6e4f10568bb80a59a4d1]
cluster Build.rs--><polygon fill="#DDDDDD" filter="url(#fwwbcly1xwx1p)" points="697,276.1992,707,266.1992,880,266.1992,880,358.1992,870,368.1992,697,368.1992,697,276.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="870" x2="880" y1="276.1992" y2="266.1992"/><line style="stroke:#000000;stroke-width:1.5;" x1="697" x2="870" y1="276.1992" y2="276.1992"/><line style="stroke:#000000;stroke-width:1.5;" x1="870" x2="870" y1="276.1992" y2="368.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="54" x="757.5" y="292.7344">Build.rs</text><!--MD5=[b2dad7d9306a2cafaea37103a7b67641]
cluster Step_3--><rect fill="#FFFFFF" filter="url(#fwwbcly1xwx1p)" height="407" style="stroke:#000000;stroke-width:1.5;" width="236" x="928" y="86.1992"/><path d="M985,86.1992 L985,95.6875 L975,105.6875 L928,105.6875 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="47" x="931" y="100.7344">Step_3</text><!--MD5=[c6cdad425a53e4290e936fe4454abfe6]
cluster Protobuf_Files_Dart--><rect fill="#DDDDDD" filter="url(#fwwbcly1xwx1p)" height="158" style="stroke:#000000;stroke-width:1.5;" width="188" x="952" y="129.1992"/><rect fill="#DDDDDD" height="10" style="stroke:#000000;stroke-width:1.5;" width="15" x="1120" y="134.1992"/><rect fill="#DDDDDD" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="1118" y="136.1992"/><rect fill="#DDDDDD" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="1118" y="140.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="995" y="155.7344">Protobuf Files</text><!--MD5=[0c3ba85bfe9d6ba64bfbae4109da567e]
cluster Protobuf_Files_Rust--><rect fill="#DDDDDD" filter="url(#fwwbcly1xwx1p)" height="158" style="stroke:#000000;stroke-width:1.5;" width="151" x="970.5" y="311.1992"/><rect fill="#DDDDDD" height="10" style="stroke:#000000;stroke-width:1.5;" width="15" x="1101.5" y="316.1992"/><rect fill="#DDDDDD" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="1099.5" y="318.1992"/><rect fill="#DDDDDD" height="2" style="stroke:#000000;stroke-width:1.5;" width="4" x="1099.5" y="322.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="102" x="995" y="337.7344">Protobuf Files</text><!--MD5=[b24267d2964530fde97dbe32f532d632]
cluster Front-end (Flutter)--><polygon fill="#DDDDDD" filter="url(#fwwbcly1xwx1p)" points="1188,160.1992,1330,160.1992,1337,182.6875,1340,182.6875,1340,257.1992,1188,257.1992,1188,160.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1188" x2="1337" y1="182.6875" y2="182.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136" x="1192" y="175.7344">Front-end (Flutter)</text><!--MD5=[dda78dbc42a958268ede67472bfec7a7]
cluster Back-end (Rust)--><polygon fill="#DDDDDD" filter="url(#fwwbcly1xwx1p)" points="1198,347.1992,1320,347.1992,1327,369.6875,1330,369.6875,1330,444.1992,1198,444.1992,1198,347.1992" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="1198" x2="1327" y1="369.6875" y2="369.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="116" x="1202" y="362.7344">Back-end (Rust)</text><path d="M23,235.6992 L23,306.9414 A0,0 0 0 0 23,306.9414 L418,306.9414 A0,0 0 0 0 418,306.9414 L418,275.1992 L517.91,271.1992 L418,267.1992 L418,245.6992 L408,235.6992 L23,235.6992 A0,0 0 0 0 23,235.6992 " fill="#FBFB77" filter="url(#fwwbcly1xwx1p)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M408,235.6992 L408,245.6992 L418,245.6992 L408,235.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="29" y="253.2676">enum FolderEvent {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="358" x="45" y="268.5781">#[event(input = "ExportRequest", output = "ExportData")]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="45" y="283.8887">ExportDocument = 0,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="29" y="299.1992">}</text><path d="M109,453.6992 L109,570.873 A0,0 0 0 0 109,570.873 L332,570.873 A0,0 0 0 0 332,570.873 L332,521.8592 L517.48,527.3292 L332,513.8592 L332,463.6992 L322,453.6992 L109,453.6992 A0,0 0 0 0 109,453.6992 " fill="#FBFB77" filter="url(#fwwbcly1xwx1p)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M322,453.6992 L322,463.6992 L332,463.6992 L322,453.6992 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="115" y="471.2676">struct ExportData {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="131" y="486.5781">#[pb(index = 1)]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="131" y="501.8887">pub data: String,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="119" y="517.1992"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="131" y="532.5098">#[pb(index = 2)]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="131" y="547.8203">pub export_type: ExportType,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="115" y="563.1309">}</text><!--MD5=[8c5837f77ad61418129a059f73895239]
entity EventSource--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="518,253.1992,518,289.6875,592,289.6875,592,263.1992,582,253.1992,518,253.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M582,253.1992 L582,263.1992 L592,263.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="528" y="276.7344">event.rs</text><!--MD5=[134ad0d61f2d87d0a74460b529eb51cf]
entity EventCodeGen--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="519,182.1992,519,218.6875,591,218.6875,591,192.1992,581,182.1992,519,182.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M581,182.1992 L581,192.1992 L591,192.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="529" y="205.7344">build.rs</text><!--MD5=[c7b7b7a44a4bb769302a0d681df827ac]
entity EventDefine--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="505.5,111.1992,505.5,147.6875,604.5,147.6875,604.5,121.1992,594.5,111.1992,505.5,111.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M594.5,111.1992 L594.5,121.1992 L604.5,121.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="515.5" y="134.7344">event.proto</text><!--MD5=[0312c884275267320a5163b7df1c935b]
entity PBSource--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="517.5,511.1992,517.5,547.6875,592.5,547.6875,592.5,521.1992,582.5,511.1992,517.5,511.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M582.5,511.1992 L582.5,521.1992 L592.5,521.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="527.5" y="534.7344">share.rs</text><!--MD5=[f6582b33e3b36b5978205c835fbee9c3]
entity PBCodeGen--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="519,440.1992,519,476.6875,591,476.6875,591,450.1992,581,440.1992,519,440.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M581,440.1992 L581,450.1992 L591,450.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="529" y="463.7344">build.rs</text><!--MD5=[5cbde59b9862f67d0f0cd3924c8b51f0]
entity PBDefine--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="505,369.1992,505,405.6875,605,405.6875,605,379.1992,595,369.1992,505,369.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M595,369.1992 L595,379.1992 L605,379.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="515" y="392.7344">share.proto</text><!--MD5=[6be6168b6d2c053508892e3f05d497a7]
entity Builder--><rect fill="#F7931E" filter="url(#fwwbcly1xwx1p)" height="46.4883" style="stroke:#A80036;stroke-width:1.5;" width="151" x="713" y="306.1992"/><rect fill="#F7931E" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="844" y="311.1992"/><rect fill="#F7931E" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="842" y="313.1992"/><rect fill="#F7931E" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="842" y="317.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="728" y="339.7344">Protoc Compiler</text><!--MD5=[ea6b2fd6a43e9d24fce94b6e51337f9b]
entity dart_event--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="968,235.1992,968,271.6875,1124,271.6875,1124,245.1992,1114,235.1992,968,235.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M1114,235.1992 L1114,245.1992 L1124,245.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="978" y="258.7344">share_event.pb.dart</text><!--MD5=[921fa1d0995e300241b21d7093e59f2c]
entity dart_pb--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="990,164.1992,990,200.6875,1102,200.6875,1102,174.1992,1092,164.1992,990,164.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M1092,164.1992 L1092,174.1992 L1102,174.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="1000" y="187.7344">share.pb.dart</text><!--MD5=[96e2a2c4560a7e38d83c571b1180744a]
entity rust_event--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="986.5,417.1992,986.5,453.6875,1105.5,453.6875,1105.5,427.1992,1095.5,417.1992,986.5,417.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M1095.5,417.1992 L1095.5,427.1992 L1105.5,427.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="996.5" y="440.7344">share_event.rs</text><!--MD5=[e35d75fda48948c0c1bd5e726bdbde16]
entity rust_pb--><polygon fill="#FFDDDD" filter="url(#fwwbcly1xwx1p)" points="1008.5,346.1992,1008.5,382.6875,1083.5,382.6875,1083.5,356.1992,1073.5,346.1992,1008.5,346.1992" style="stroke:#000000;stroke-width:1.5;"/><path d="M1073.5,346.1992 L1073.5,356.1992 L1083.5,356.1992 " fill="#FFDDDD" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="1018.5" y="369.7344">share.rs</text><!--MD5=[4e260e4024c27e03c495c33059d2b5ff]
entity Repository--><rect fill="#FEFECE" filter="url(#fwwbcly1xwx1p)" height="46.4883" style="stroke:#A80036;stroke-width:1.5;" width="113" x="1207" y="195.1992"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1300" y="200.1992"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1298" y="202.1992"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1298" y="206.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1222" y="228.7344">Repository</text><!--MD5=[32a6d3b508021f5875dd65aaa7b12f72]
entity Module--><rect fill="#FEFECE" filter="url(#fwwbcly1xwx1p)" height="46.4883" style="stroke:#A80036;stroke-width:1.5;" width="91" x="1218" y="382.1992"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="1289" y="387.1992"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1287" y="389.1992"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="1287" y="393.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1233" y="415.7344">Module</text><!--MD5=[7bbae99804f933e2cfd5635508782a18]
link EventSource to EventCodeGen--><path d="M555,253.0192 C555,249.8392 555,247.5292 555,247.5292 C555,247.5292 555,223.8692 555,223.8692 C555,223.8692 555,223.7192 555,223.4592 " fill="none" id="EventSource-to-EventCodeGen" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="555,218.3792,551,227.3792,555,223.3792,559,227.3792,555,218.3792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a5bef84aceeb31fda65b127336877e97]
link EventCodeGen to EventDefine--><path d="M555,182.0192 C555,178.8392 555,176.5292 555,176.5292 C555,176.5292 555,152.8692 555,152.8692 C555,152.8692 555,152.7192 555,152.4592 " fill="none" id="EventCodeGen-to-EventDefine" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="555,147.3792,551,156.3792,555,152.3792,559,156.3792,555,147.3792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[52c76e1142e682dc8fde9e5c46afeaed]
link PBSource to PBCodeGen--><path d="M555,511.0192 C555,507.8392 555,505.5292 555,505.5292 C555,505.5292 555,481.8692 555,481.8692 C555,481.8692 555,481.7192 555,481.4592 " fill="none" id="PBSource-to-PBCodeGen" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="555,476.3792,551,485.3792,555,481.3792,559,485.3792,555,476.3792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fab9561cc20a7121af96a687619ac95d]
link PBCodeGen to PBDefine--><path d="M555,440.0192 C555,436.8392 555,434.5292 555,434.5292 C555,434.5292 555,410.8692 555,410.8692 C555,410.8692 555,410.7192 555,410.4592 " fill="none" id="PBCodeGen-to-PBDefine" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="555,405.3792,551,414.3792,555,410.3792,559,414.3792,555,405.3792" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c2e39d4ff537e18da74a6578ed55c362]
link EventDefine to Builder--><path d="M604.72,146.0792 C630.55,155.0392 657,164.1992 657,164.1992 C657,164.1992 728.71,254.8692 765.82,301.7892 " fill="none" id="EventDefine-to-Builder" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="769.08,305.9092,766.6281,296.3705,765.9758,301.9896,760.3566,301.3372,769.08,305.9092" style="stroke:#0000FF;stroke-width:1.0;"/><!--MD5=[8ed024b506e73e2349a03bc4b3c9c30e]
link PBDefine to Builder--><path d="M605.1,374.8992 C634.95,367.4192 673.78,357.6892 707.93,349.1292 " fill="none" id="PBDefine-to-Builder" style="stroke:#0000FF;stroke-width:1.0;"/><polygon fill="#0000FF" points="712.94,347.8792,703.2374,346.1882,708.0901,349.0953,705.1831,353.948,712.94,347.8792" style="stroke:#0000FF;stroke-width:1.0;"/><!--MD5=[dda8f60c1bfc94240aa6d1cd68dce6b6]
link Builder to dart_event--><path d="M864.09,307.0092 C900.45,296.1992 943.8,283.2992 978.95,272.8492 " fill="none" id="Builder-to-dart_event" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="984.08,271.3192,974.3119,270.0607,979.2889,272.7494,976.6002,277.7264,984.08,271.3192" style="stroke:#006400;stroke-width:1.0;"/><!--MD5=[381d622b62bac85a781fb70a156c5243]
link Builder to dart_pb--><path d="M816.54,305.9892 C854.76,273.1892 920,217.1992 920,217.1992 C920,217.1992 952.73,208.0392 984.69,199.0892 " fill="none" id="Builder-to-dart_pb" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="989.81,197.6492,980.0623,196.2412,984.9976,199.0058,982.2329,203.9411,989.81,197.6492" style="stroke:#006400;stroke-width:1.0;"/><!--MD5=[9d692fe468d7a50906bff258aa02f74e]
link Builder to rust_event--><path d="M832.59,352.3092 C870.6,372.6992 920,399.1992 920,399.1992 C920,399.1992 950.4,407.9592 981.22,416.8292 " fill="none" id="Builder-to-rust_event" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="986.16,418.2492,978.6226,411.9099,981.3562,416.8624,976.4037,419.596,986.16,418.2492" style="stroke:#006400;stroke-width:1.0;"/><!--MD5=[e4f418de7b4ae6b949bf61615faea6dd]
link Builder to rust_pb--><path d="M864.09,339.4192 C909.29,345.6092 965.31,353.2792 1002.93,358.4392 " fill="none" id="Builder-to-rust_pb" style="stroke:#006400;stroke-width:1.0;"/><polygon fill="#006400" points="1008.34,359.1792,999.975,353.9805,1003.3874,358.4922,998.8757,361.9046,1008.34,359.1792" style="stroke:#006400;stroke-width:1.0;"/><!--MD5=[3a3f657ba63bb7d594eed8a875d92521]
reverse link dart_event to Repository--><path d="M1129.34,239.8292 C1155.24,235.6192 1183.21,231.0792 1206.8,227.2492 " fill="none" id="dart_event-backto-Repository" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1124.19,240.6592,1133.7135,243.1699,1129.1258,239.8604,1132.4353,235.2727,1124.19,240.6592" style="stroke:#A80036;stroke-width:2.0;"/><!--MD5=[10894b4d16423c22d8d90c96136e793c]
reverse link dart_pb to Repository--><path d="M1107.16,192.2492 C1138.33,197.4592 1176.16,203.7792 1206.68,208.8692 " fill="none" id="dart_pb-backto-Repository" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1102.22,191.4192,1110.4323,196.856,1107.1508,192.2482,1111.7586,188.9667,1102.22,191.4192" style="stroke:#A80036;stroke-width:2.0;"/><!--MD5=[03ae0a5b8d78032acf76b2393aac8724]
reverse link rust_event to Module--><path d="M1110.64,426.3392 C1145.14,421.5392 1186.93,415.7192 1217.93,411.3992 " fill="none" id="rust_event-backto-Module" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1105.6,427.0392,1115.0709,429.7415,1110.5509,426.3401,1113.9523,421.8201,1105.6,427.0392" style="stroke:#A80036;stroke-width:2.0;"/><!--MD5=[b2a71739254d6b495e660bbeca61bff5]
reverse link rust_pb to Module--><path d="M1088.91,372.1692 C1126.01,379.2292 1180.02,389.5092 1217.92,396.7192 " fill="none" id="rust_pb-backto-Module" style="stroke:#A80036;stroke-width:2.0;"/><polygon fill="#A80036" points="1083.56,371.1592,1091.6451,376.7834,1088.4704,372.1013,1093.1525,368.9267,1083.56,371.1592" style="stroke:#A80036;stroke-width:2.0;"/><!--MD5=[f65de399eb7ca53b9be906fa999a2704]
@startuml FlowySDK
title Protobuf Code Generation
left to right direction
skinparam linetype polyline
'skinparam monochrome reverse

frame Step_1 {
    node "Event" #DDDDDD {
        file EventSource as "event.rs" #FFDDDD
        file EventCodeGen as "build.rs" #FFDDDD
        file EventDefine as "event.proto" #FFDDDD
    }
    note left of EventSource
    enum FolderEvent {
        #[event(input = "ExportRequest", output = "ExportData")]
        ExportDocument = 0,
    }
    end note

    node "Protobuf" #DDDDDD {
        file PBSource as "share.rs" #FFDDDD
        file PBCodeGen as "build.rs" #FFDDDD
        file PBDefine as "share.proto" #FFDDDD
    }
    note left of PBSource
    struct ExportData {
        #[pb(index = 1)]
        pub data: String,

        #[pb(index = 2)]
        pub export_type: ExportType,
    }
    end note

    EventSource -> EventCodeGen
        EventCodeGen -> EventDefine
        PBSource -> PBCodeGen
        PBCodeGen -> PBDefine
}

frame Step_2 {
    node "Build.rs" #DDDDDD {
        component Builder as "Protoc Compiler" #F7931E
    }
}


frame Step_3 {
    component Protobuf_Files_Dart as "Protobuf Files" #DDDDDD {
        file dart_event as "share_event.pb.dart" #FFDDDD
        file dart_pb as "share.pb.dart" #FFDDDD
    }

    component Protobuf_Files_Rust as "Protobuf Files" #DDDDDD {
        file rust_event as "share_event.rs" #FFDDDD
        file rust_pb as "share.rs" #FFDDDD
    }
}
package "Front-end (Flutter)" #DDDDDD {
    component Repository
}

package "Back-end (Rust)" #DDDDDD {
    component Module
}


EventDefine -[#blue]-> Builder
PBDefine -[#blue]-> Builder

Builder -[#DarkGreen]-> dart_event
Builder -[#DarkGreen]-> dart_pb
Builder -[#DarkGreen]-> rust_event
Builder -[#DarkGreen]-> rust_pb

Repository -[bold]up-> dart_event
Repository -[bold]up-> dart_pb

Module -[bold]up-> rust_event
Module -[bold]up-> rust_pb
@enduml

@startuml FlowySDK
title Protobuf Code Generation
left to right direction
skinparam linetype polyline

frame Step_1 {
    node "Event" #DDDDDD {
        file EventSource as "event.rs" #FFDDDD
        file EventCodeGen as "build.rs" #FFDDDD
        file EventDefine as "event.proto" #FFDDDD
    }
    note left of EventSource
    enum FolderEvent {
        #[event(input = "ExportRequest", output = "ExportData")]
        ExportDocument = 0,
    }
    end note

    node "Protobuf" #DDDDDD {
        file PBSource as "share.rs" #FFDDDD
        file PBCodeGen as "build.rs" #FFDDDD
        file PBDefine as "share.proto" #FFDDDD
    }
    note left of PBSource
    struct ExportData {
        #[pb(index = 1)]
        pub data: String,

        #[pb(index = 2)]
        pub export_type: ExportType,
    }
    end note

    EventSource -> EventCodeGen
        EventCodeGen -> EventDefine
        PBSource -> PBCodeGen
        PBCodeGen -> PBDefine
}

frame Step_2 {
    node "Build.rs" #DDDDDD {
        component Builder as "Protoc Compiler" #F7931E
    }
}


frame Step_3 {
    component Protobuf_Files_Dart as "Protobuf Files" #DDDDDD {
        file dart_event as "share_event.pb.dart" #FFDDDD
        file dart_pb as "share.pb.dart" #FFDDDD
    }

    component Protobuf_Files_Rust as "Protobuf Files" #DDDDDD {
        file rust_event as "share_event.rs" #FFDDDD
        file rust_pb as "share.rs" #FFDDDD
    }
}
package "Front-end (Flutter)" #DDDDDD {
    component Repository
}

package "Back-end (Rust)" #DDDDDD {
    component Module
}


EventDefine -[#blue]-> Builder
PBDefine -[#blue]-> Builder

Builder -[#DarkGreen]-> dart_event
Builder -[#DarkGreen]-> dart_pb
Builder -[#DarkGreen]-> rust_event
Builder -[#DarkGreen]-> rust_pb

Repository -[bold]up-> dart_event
Repository -[bold]up-> dart_pb

Module -[bold]up-> rust_event
Module -[bold]up-> rust_pb
@enduml

PlantUML version 1.2022.0(Wed Jan 12 00:16:42 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>